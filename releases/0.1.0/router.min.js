var Router=(function(){var i=[],j=function(){document.addEventListener("click",g);h(window.location.href)},g=function(k){if(!a(k)){var l=f(k);if(l.tagName=="A"){h(l.href)}}},a=function(k){return k.metaKey||k.shiftKey||k.ctrlKey||k.altKey},f=function(k){return k.target||k.srcElement||window.event.target||window.event.srcElement},h=function(l){var k=c(l);k&&setTimeout(k,0);return !!k},c=function(m){var k=window.location,o=document.createElement("a"),n,l;o.href=m;if((o.href.indexOf("#")==-1)||(o.host!=k.host)||(b(o.pathname)!=b(k.pathname))){return}for(n=0;n<i.length;n++){if(l=e(o.hash,i[n])){return l}}},b=function(k){return k.replace(/(^\/|\/$)/g,"")},e=function(m,k){var l=k.regexp.exec(m.replace("#",""));if(l){return function(){k.func.apply(null,l.slice(1,l.length))}}},d=function(){var k,l;for(k=0;k<arguments.length;k+=2){l=arguments[k].replace(/:([^\/]+)/g,function(){return"([^\\/]+)"}).replace(/\*([^\/]+)/g,function(){return"(.*?)"});i.push({regexp:new RegExp("^"+l+"$"),func:arguments[k+1]})}};if((document.readyState=="interactive")||(document.readyState=="complete")){j()}else{document.addEventListener("DOMContentLoaded",j)}return{add:d}}());window.route=Router.add;